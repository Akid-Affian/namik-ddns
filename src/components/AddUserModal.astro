<div
    id="addUserModal"
    class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 invisible opacity-0 transition-opacity duration-300"
>
    <div class="bg-[#2C3333] rounded-lg shadow-lg p-8 max-w-lg w-full">
        <h2 id="modalTitle" class="text-xl font-semibold mb-4 text-gray-100">
            Add User
        </h2>

        <!-- Hidden input to prevent autocomplete -->
        <input type="text" name="prevent_autofill" id="prevent_autofill" style="display:none;" autocomplete="off">

        <label class="block mb-4 text-gray-100">
            Username:
            <input
                type="text"
                id="modalUsernameInput"
                class="w-full px-3 py-2 border rounded mt-2 text-black"
                placeholder="Enter username"
                autocomplete="off"
            />
        </label>

        <label class="block mb-4 text-gray-100">
            Password:
            <input
                type="password"
                id="modalPasswordInput"
                class="w-full px-3 py-2 border rounded mt-2 text-black"
                placeholder="Enter password"
                autocomplete="new-password"
            />
        </label>

        <label class="block mb-4 text-gray-100">
            Confirm Password:
            <input
                type="password"
                id="modalConfirmPasswordInput"
                class="w-full px-3 py-2 border rounded mt-2 text-black"
                placeholder="Confirm password"
                autocomplete="new-password"
            />
        </label>

        <label class="block mb-4 text-gray-100">
            Role:
            <select
                id="modalRoleSelect"
                class="w-full px-3 py-2 border rounded mt-2 text-black"
                autocomplete="off"
            >
                <option value="User">User</option>
                <option value="Admin">Admin</option>
            </select>
        </label>

        <div class="flex justify-end">
            <button
                id="confirmAddUserButton"
                class="bg-[#3E7059] hover:bg-[#2b5944] text-white px-4 py-2 rounded mr-2"
            >
                Confirm
            </button>
            <button
                id="cancelAddUserButton"
                class="bg-gray-600 text-white px-4 py-2 rounded"
            >
                Cancel
            </button>
        </div>
    </div>
</div>

<script>
    import {
        initAddUserModalFunctionality,
        cleanUpAddUserModalFunctionality,
    } from "../scripts/add-user-modal/addUserModalEventHandlers";

    document.addEventListener(
        "astro:before-swap",
        cleanUpAddUserModalFunctionality,
    );
    document.addEventListener("astro:page-load", initAddUserModalFunctionality);
    document.addEventListener(
        "astro:after-swap",
        initAddUserModalFunctionality,
    );
</script>
